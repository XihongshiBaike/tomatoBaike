import{_ as s,o as a,c as n,V as p}from"./chunks/framework.a299805b.js";const A=JSON.parse('{"title":"有关开发","description":"","frontmatter":{},"headers":[],"relativePath":"developing.md","filePath":"developing.md"}'),l={name:"developing.md"},o=p(`<h1 id="有关开发" tabindex="-1">有关开发 <a class="header-anchor" href="#有关开发" aria-label="Permalink to &quot;有关开发&quot;">​</a></h1><p>如果你也是一个开发人员，相信你会找到这个页面的。由于一般的观众没有这个需求，我（本网站开发）并没有将这个页面添加进导航中。</p><p>由于我们是一个百科网站，我们在VitePress的基础上基于我们自己的一些小需求进行了一些小改造。当然我们并没有使用自定义主题的方案，因为我们认为，VitePress官方主题足够好看简洁，完全满足我们的需要。</p><p>这个页面主要说明一些在基于VitePress的百科网站的开发中可能会遇到的问题（但我觉得VitePress也不会想到我们会用它做Wiki）</p><h2 id="_1-图形化词条生成器中-我们是如何集成-t-design-的" tabindex="-1">1.图形化词条生成器中，我们是如何集成 T-Design 的？ <a class="header-anchor" href="#_1-图形化词条生成器中-我们是如何集成-t-design-的" aria-label="Permalink to &quot;1.图形化词条生成器中，我们是如何集成 T-Design 的？&quot;">​</a></h2><p>你应该会看出来，在我们的图形化词条生成器中，我们使用了T-Design这一个组件库，那么我们是如何集成的呢？</p><p>在项目根目录运行 <code>npm i tdesign-vue-next</code> 或 <code>yarn add tdesign-vue-next</code>安装库（众所周知VitePress基于Vue3，所以组件库必须选择其对应的Vue3版本）</p><p>安装库之后，你需要在 <code>根目录/docs/theme/index.js</code> 中最前面添加</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> TDesign </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tdesign-vue-next</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tdesign-vue-next/es/style/index.css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>在<code>enhanceApp</code>一项的大括号中添加</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">use</span><span style="color:#A6ACCD;">(TDesign)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>这样你就全局注册了T-Design组件库，可以在任意页面进行使用。</p><p>对于其他组件库我并没有实验，但集成的方法应该是差不多的。选择T-Design也是因为它的设计风格和VitePress更加统一（当然如果你喜欢也可以用ElementUI的Vue3版本，但我们所有员工一致认为T-Design放在这个网站会更好看一些）</p><h2 id="_2-我们是如何实现哔哩哔哩播放器和网易云播放器的复用的" tabindex="-1">2.我们是如何实现哔哩哔哩播放器和网易云播放器的复用的？ <a class="header-anchor" href="#_2-我们是如何实现哔哩哔哩播放器和网易云播放器的复用的" aria-label="Permalink to &quot;2.我们是如何实现哔哩哔哩播放器和网易云播放器的复用的？&quot;">​</a></h2><p>基于VitePress提供的单页面组件能力，将哔哩哔哩播放器和网易云播放器和其对应的样式进行封装并暴露对应的prop，在对应页面引入后使用prop进行传参即可实现复用</p><h2 id="_3-我们是如何实现标签功能的" tabindex="-1">3.我们是如何实现标签功能的？ <a class="header-anchor" href="#_3-我们是如何实现标签功能的" aria-label="Permalink to &quot;3.我们是如何实现标签功能的？&quot;">​</a></h2><p>我们并没有使用VitePress官方提供的bandage组件，因为它更适用于上标。我们的标签是自己开发的组件并通过VitePress提供的单文件组件和frontmatter能力进行复用。（标签可以直接打进frontmatter太香啦！）</p><p>还有人可能会问就这点玩意为啥要封装直接CV不香吗，更何况每个文件都要引入？</p><p>我的评价是不想每次都写一遍样式而且在Markdown中写CSS体验真的不好（没有代码补全，不如直接写Vue来的利索），而且标签多，你还会一个个CV吗？不还是要用v-for？虽然这个标签功能在文件中需要写代码引入，但是总的来说可读性会高于其他方案。谁看了都能看懂，代码功能一目了然。</p><p>这个标签功能总体的实现原理就是将frontmatter中的标签信息传参给tag组件，通过Vue的v-for命令可以循环输出标签。</p><p>但是这个方案有个问题：标签是写在frontmatter里面的，所以Vitepress提供的本地搜索能力是搜索不到标签的。这个我们还在想办法解决。</p><p>tag组件参考：</p><div class="language-Vue"><button title="Copy Code" class="copy"></button><span class="lang">Vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">root</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tag</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">{{ tagName }}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tag</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">props</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">tagName</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> String </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">#</span><span style="color:#F78C6C;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">font-size</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">border</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1px</span><span style="color:#A6ACCD;"> solid </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">ff5757</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">ff5757</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding-left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding-right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">margin-top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">border-radius</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">float</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> left</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>在文档中复用只需要：</p><div class="language-Vue"><button title="Copy Code" class="copy"></button><span class="lang">Vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">---</span></span>
<span class="line"><span style="color:#A6ACCD;">tags: [{&quot;text&quot;:&quot;曹操&quot;},{&quot;text&quot;:&quot;盖饭&quot;},{&quot;text&quot;:&quot;梗&quot;},{&quot;text&quot;:&quot;三国演义&quot;}]</span></span>
<span class="line"><span style="color:#A6ACCD;">---</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> tag </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../components/tag.vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">tag</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">v-for</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">item </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> $frontmatter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">tags</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#C792EA;">tagName</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">/&gt;</span></span></code></pre></div>`,25),e=[o];function t(c,r,D,F,y,C){return a(),n("div",null,e)}const d=s(l,[["render",t]]);export{A as __pageData,d as default};
